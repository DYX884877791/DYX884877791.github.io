(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{274:function(e,a,t){"use strict";t.r(a);var s=t(0),l=Object(s.a)({},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"hadoop运行环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hadoop运行环境搭建","aria-hidden":"true"}},[e._v("#")]),e._v(" Hadoop运行环境搭建")]),e._v(" "),t("h2",{attrs:{id:"虚拟机环境准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#虚拟机环境准备","aria-hidden":"true"}},[e._v("#")]),e._v(" 虚拟机环境准备")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("虚拟机克隆")])]),e._v(" "),t("li",[t("p",[e._v("修改静态IP")]),e._v(" "),t("ul",[t("li",[e._v("修改网卡信息(虚拟的Mac地址)："),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@hadoop02 ~]$ vim /etc/udev/rules.d/70-persistent-net.rules\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('# This file was automatically generated by the /lib/udev/write_net_rules\n# program, run by the persistent-net-generator.rules rules file.\n#\n# You can modify it, as long as you keep each rule on a single\n# line, and change only the value of the NAME= key.\n\n# PCI device 0x8086:0x100f (e1000)\n\n# PCI device 0x8086:0x100f (e1000)\n# 不同机器应该配置不同的Mac地址.\nSUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="00:0c:29:bb:e4:6e", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0" \n')])])])]),e._v(" "),t("li",[e._v("修改连接的网卡信息："),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@hadoop02 ~]$ vim /etc/sysconfig/network-scripts/ifcfg-eth0\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('DEVICE=eth0\nTYPE=Ethernet\nUUID=74d8297d-a658-4f14-909f-fb3c7fdba436\nONBOOT=yes\nNM_CONTROLLED=yes\nBOOTPROTO=static\nHWADDR=00:0c:29:bb:e4:6e\nDEFROUTE=yes\nPEERDNS=yes\nPEERROUTES=yes\nIPV4_FAILURE_FATAL=yes\nIPV6INIT=no\nNAME="System eth0"\nLAST_CONNECT=1554828622\nIPADDR=192.168.13.129\nGATEWAY=192.168.13.2\nDNS1=192.168.13.2   \n')])])])]),e._v(" "),t("li",[e._v("要修改的地方：\n"),t("ul",[t("li",[e._v("ONBOOT=yes（启动机器时自动启动网络）")]),e._v(" "),t("li",[e._v("BOOTPROTO=static（手动设定ip地址）")]),e._v(" "),t("li",[e._v("HWADDR=00:0c:29:bb:e4:6e（与上面的Mac地址一致）")]),e._v(" "),t("li",[e._v("IPADDR=192.168.13.129（设定当前机器的IP地址，设定在与网关同一网段）")]),e._v(" "),t("li",[e._v("GATEWAY=192.168.13.2（设定网关与Vmware设定的网络编辑器的网关地址一致）")]),e._v(" "),t("li",[e._v("DNS1=192.168.13.2 （设定DNS地址）")])])])])]),e._v(" "),t("li",[t("p",[e._v("修改主机名（Hostname）")]),e._v(" "),t("ul",[t("li",[e._v("修改当前机器主机名"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@hadoop02 ~]$ vim /etc/sysconfig/network\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("NETWORKING=yes\nHOSTNAME=hadoop02 \n")])])])]),e._v(" "),t("li",[e._v("修改hosts文件"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("vim /etc/hosts\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n192.168.13.128 hadoop01\n192.168.13.129 hadoop02\n192.168.13.130 hadoop03\n192.168.13.131 hadoop04  \n")])])])]),e._v(" "),t("li",[e._v("ping命令查看是否能ping通")])])]),e._v(" "),t("li",[t("p",[e._v("关闭防火墙")]),e._v(" "),t("ul",[t("li",[e._v("停止运行防火墙"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@test etc]# service iptables stop\niptables：将链设置为政策 ACCEPT：filter                    [确定]\niptables：清除防火墙规则：                                 [确定]\niptables：正在卸载模块：                                   [确定]\n")])])])]),e._v(" "),t("li",[e._v("查看防火墙状态"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@test etc]# service iptables status\niptables：未运行防火墙。\n")])])])]),e._v(" "),t("li",[e._v("如果要开启或者重启防火墙运行命令：service iptables start/restart")]),e._v(" "),t("li",[e._v("service命令开启以及关闭防火墙为即时生效，下次重启机器的时候会自动复原。")]),e._v(" "),t("li",[e._v("如果要永久关闭防火墙："),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("chkconfig iptables off\n")])])])]),e._v(" "),t("li",[e._v("查看状态"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("chkconfig --list iptables\n")])])])]),e._v(" "),t("li",[e._v("永久启用防火墙"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("chkconfig iptables on\n")])])])])])]),e._v(" "),t("li",[t("p",[e._v("创建用户以及分配权限")]),e._v(" "),t("ul",[t("li",[e._v("创建用户"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@test ~]# useradd dyx\n")])])])]),e._v(" "),t("li",[e._v("分配权限，使用root用户编辑/etc/sudoers文件，sudoers文件默认只有只读权限，如果要修改请添加写权限"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@test ~]# cd /etc\n[root@test etc]# ll | grep sudoers\n-r--r-----.  1 root root   3729 12月  8 2015 sudoers\n[root@test etc]# chmod u+x sudoers\n[root@test ~]# vim /etc/sudoers \n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("## Allow root to run any commands anywhere\nroot    ALL=(ALL)       ALL\ndyx     ALL=(ALL)       ALL \n")])])]),e._v("添加权限成功!")])])])]),e._v(" "),t("h2",{attrs:{id:"安装jdk以及hadoop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装jdk以及hadoop","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装JDK以及Hadoop")]),e._v(" "),t("h3",{attrs:{id:"安装jdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装jdk","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装JDK")]),e._v(" "),t("ol",[t("li",[e._v("将jdk-8u144-linux-x64.tar.gz上传至任意目录，方便管理，放置在/opt/software目录下")]),e._v(" "),t("li",[e._v("将JDK解压至/opt/module目录下"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("tar -zxvf jdk-8u144-linux-x64.tar.gz -C /opt/module/\n")])])])]),e._v(" "),t("li",[e._v("配置java环境变量\n如果当前用户是新建的dyx用户，需要加sudo"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[dyx@hadoop02 module]$ sudo vim /etc/profile\n")])])]),e._v("在/etc/profile文件末尾添加如下内容："),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("export JAVA_HOME=/opt/module/jdk1.8.0_144\nexport PATH=$PATH:$JAVA_HOME/bin  \n")])])]),e._v("更新环境变量"),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("source /etc/profile\n")])])])])])])},[],!1,null,null,null);a.default=l.exports}}]);