(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{303:function(e,s,r){"use strict";r.r(s);var l=r(0),t=Object(l.a)({},function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"centos7安装mysql5-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#centos7安装mysql5-7","aria-hidden":"true"}},[e._v("#")]),e._v(" Centos7安装MySQL5.7")]),e._v(" "),r("h2",{attrs:{id:"在centos7安装mysql-5-7-21-1-el7-x86-64-rpm-bundle-tar"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#在centos7安装mysql-5-7-21-1-el7-x86-64-rpm-bundle-tar","aria-hidden":"true"}},[e._v("#")]),e._v(" 在Centos7安装mysql-5.7.21-1.el7.x86_64.rpm-bundle.tar")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("解压mysql-5.7.21-1.el7.x86_64.rpm-bundle.tar")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("[root@hserver1 opt]#tar -xvf mysql-5.7.21-1.el7.x86_64.rpm-bundle.tar -C /opt/mysql\n[root@hserver1 opt]# cd mysql\n[root@hserver1 mysql]# ll\ntotal 580028\n-rw-r--r--. 1 7155 31415  25107316 Dec 28  2017 mysql-community-client-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415    278844 Dec 28  2017 mysql-community-common-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415   3779988 Dec 28  2017 mysql-community-devel-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415  46256768 Dec 28  2017 mysql-community-embedded-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415  24078148 Dec 28  2017 mysql-community-embedded-compat-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415 128571868 Dec 28  2017 mysql-community-embedded-devel-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415   2238596 Dec 28  2017 mysql-community-libs-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415   2115904 Dec 28  2017 mysql-community-libs-compat-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415  55662616 Dec 28  2017 mysql-community-minimal-debuginfo-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415 171890056 Dec 28  2017 mysql-community-server-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415  15289580 Dec 28  2017 mysql-community-server-minimal-5.7.21-1.el7.x86_64.rpm\n-rw-r--r--. 1 7155 31415 118654584 Dec 28  2017 mysql-community-test-5.7.21-1.el7.x86_64.rpm\n")])])])]),e._v(" "),r("li",[r("p",[e._v("卸载Centos7自带的mariadb")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("[root@hserver1 opt]# rpm -qa | grep -i mariadb\nmariadb-libs-5.5.52-1.el7.x86_64\n[root@hserver1 opt]# rpm -e --nodeps mariadb-libs-5.5.52-1.el7.x86_64\n")])])])]),e._v(" "),r("li",[r("p",[e._v("安装MySQL")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("[root@hserver1 opt]# rpm -ivh mysql-community-common-5.7.21-1.el7.x86_64.rpm mysql-community-libs-5.7.21-1.el7.x86_64.rpm mysql-community-client-5.7.21-1.el7.x86_64.rpm mysql-community-server-5.7.21-1.el7.x86_64.rpm\n")])])]),r("p",[e._v("安装之后，MySQL各目录为：")]),e._v(" "),r("ol",[r("li",[e._v("数据库目录：/var/lib/mysql/")]),e._v(" "),r("li",[e._v("命令配置：/usr/share/mysql  (mysql.server命令及配置文件)")]),e._v(" "),r("li",[e._v("相关命令：/usr/bin   (mysqladmin mysqldump等命令)")]),e._v(" "),r("li",[e._v("启动脚本：/etc/rc.d/init.d/   (启动脚本文件mysql的目录)")]),e._v(" "),r("li",[e._v("系统配置：/etc/my.conf")])])]),e._v(" "),r("li",[r("p",[e._v("为了保证数据库目录为与文件的所有者为 mysql 登陆用户，如果你是以 root 身份运行 mysql 服务，需要执行下面的命令初始化")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("[root@hserver1 opt]# mysqld --initialize --user=mysql\n")])])])]),e._v(" "),r("li",[r("p",[e._v("启动mysql服务，使用命令")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("[root@hserver1 opt]# systemctl start mysqld.service\n")])])]),r("p",[e._v("或者")]),e._v(" "),r("p",[e._v("启动：")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("使用 service 启动：service mysqld start\n使用 mysqld 脚本启动：/etc/init.d/mysqld start\n使用 safe_mysqld 启动：safe_mysqld&\n")])])]),r("p",[e._v("停止：")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("使用 service 启动：service mysqld stop\n使用 mysqld 脚本启动：/etc/init.d/mysqld stop\nmysqladmin shutdown \n")])])]),r("p",[e._v("重启：")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("使用 service 启动：service mysqld restart\n使用 mysqld 脚本启动：/etc/init.d/mysqld restart\n")])])])]),e._v(" "),r("li",[r("p",[e._v("初始化会为root用户生成一个随机密码，位于/var/log/mysqld.log日志文件中")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("[root@hserver1 opt]# cat /var/log/mysqld.log | grep password\n")])])])]),e._v(" "),r("li",[r("p",[e._v("使用上一步的密码登录到MySQL的命令客户端，并输入密码")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("[root@hserver1 opt]# mysql -u root -p\nEnter password:\n")])])])]),e._v(" "),r("li",[r("p",[e._v("修改密码，假如修改为123456")]),e._v(" "),r("div",{staticClass:"language-mysql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("mysql> set password for root@localhost = password('123456');\n")])])])]),e._v(" "),r("li",[r("p",[e._v("授权远程连接")]),e._v(" "),r("div",{staticClass:"language-mysql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("mysql> GRANT ALL PRIVILEGES ON . TO 'root'@'%' IDENTIFIED BY ‘123456’ WITH GRANT OPTION;\nQuery OK, 0 rows affected, 1 warning (0.01 sec)\nmysql> FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.01 sec)\n")])])])])])])},[],!1,null,null,null);s.default=t.exports}}]);